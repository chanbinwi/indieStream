<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="snsMapper">

<resultMap type="sns" id="snsListRM">
	<result property="snsBoardNo" column="sns_board_no"/>
	<result property="snsWriter" column="sns_writer"/>
	<result property="postedTime" column="posted_time"/>
	<result property="snsContent" column="sns_content"/>
	<result property="videoUrl" column="video_url"/>
</resultMap>

	<select id="snsSelectAll" resultMap="snsListRM">
		SELECT sns_board_no, sns_writer,posted_time, sns_content,video_url 
		FROM sns_board
	</select>
	
	<select id="snsSelectOne" resultMap="snsListRM" parameterType="string">
		SELECT sns_board_no, sns_writer,posted_time, sns_content,video_url 
		FROM sns_board
		WHERE sns_board_no=#{value}
	</select>

	<insert id="snsInsert" parameterType="sns">
		<selectKey keyProperty="snsBoardNo" resultType="int" order="BEFORE">
			select sns_board_seq.nextVal from dual	
		</selectKey>
		INSERT INTO 
			sns_board(sns_board_no, sns_writer, posted_time,sns_content,video_url)
		VALUES(#{snsBoardNo}, #{snsWriter}, sysdate ,#{snsContent}, #{videoUrl})
	</insert>
	
	<update id="snsUpdate" parameterType="sns">
		UPDATE sns_board SET sns_content=#{snsContent}, video_url=#{videoUrl} 
		where sns_board_no=#{snsBoardNo}
	</update>
	
	<delete id="snsDelete" parameterType="string">
		DELETE FROM sns_board WHERE sns_board_no=#{sns_board_no}
	</delete>
</mapper>	



